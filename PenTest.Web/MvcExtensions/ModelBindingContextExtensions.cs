using System.Web.Mvc;

namespace PenTest.Web.MvcExtensions
{
    public static class ModelBindingContextExtensions
    {
        public static ValueProviderResult GetValueFromValueProvider(this ModelBindingContext bindingContext, bool performRequestValidation)
        {
            var unvalidatedValueProvider = bindingContext.ValueProvider as IUnvalidatedValueProvider;
            if (unvalidatedValueProvider == null)
                return bindingContext.ValueProvider.GetValue(bindingContext.ModelName);
            return unvalidatedValueProvider.GetValue(bindingContext.ModelName, !performRequestValidation);
        }
    }
}